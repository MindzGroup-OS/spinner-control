(function(a){a.fn.SpinnerControl=function(j){var b=a.extend({type:"range",typedata:"",defaultVal:0,width:"30px",backColor:"#fff",looping:false},j);var i;if(j!=null&&j.typedata!=null){i=a.extend({min:1,max:10,interval:1,decimalplaces:0},j.typedata)}else{i=a.extend({min:1,max:10,interval:1,decimalplaces:0})}b.typedata=i;var h=this;if(!h.is(":text")){return h}if(h.hasClass("jQuerySpinnerControl")){return h}else{h.addClass("jQuerySpinnerControl")}var f="";f+='<div class="SpinnerControl">';f+='<div class="LeftButton"></div>';f+='<div class="ValueDisplay"></div>';f+='<div class="RightButton"></div>';f+="</div>";var g=a(f).insertAfter(h);h.insertAfter(a("div.ValueDisplay",g));h.css("display","none");(a("div.ValueDisplay",g)).css({"background-color":b.backColor});(a("div.ValueDisplay",g)).css({"min-width":b.width});switch(b.type){case"range":if(b.defaultVal<b.typedata.min||b.defaultVal>b.typedata.max){b.defaultVal=b.typedata.min}if(b.defaultVal%b.typedata.interval>0){b.defaultVal=parseInt((b.defaultVal/b.typedata.interval).toFixed(0))*b.typedata.interval}h.val(b.defaultVal.toFixed(b.typedata.decimalplaces));(a("div.ValueDisplay",g)).html(b.defaultVal.toFixed(b.typedata.decimalplaces));var e=b.defaultVal;if((b.typedata.max-b.typedata.min)>b.typedata.interval){a("div.RightButton",g).click(function(){if((e+b.typedata.interval)<=b.typedata.max||b.looping){if((e+b.typedata.interval)>b.typedata.max){e=b.typedata.min-b.typedata.interval}var k=(e+b.typedata.interval).toFixed(b.typedata.decimalplaces);e+=b.typedata.interval;(a("div.ValueDisplay",g)).html(k);h.val(k)}return false});a("div.LeftButton",g).click(function(){if((e-b.typedata.interval)>=b.typedata.min||b.looping){if((e-b.typedata.interval)<b.typedata.min){e=b.typedata.max+b.typedata.interval}var k=(e-b.typedata.interval).toFixed(b.typedata.decimalplaces);e-=b.typedata.interval;(a("div.ValueDisplay",g)).html(k);h.val(k)}return false})}break;case"list":if(!b.typedata.list||b.typedata.list.lenght==0){return h}var d=b.typedata.list.split(",");var c=jQuery.inArray(b.defaultVal,d);if(!c>=0){c=0;b.defaultVal=d[0]}h.val(b.defaultVal);(a("div.ValueDisplay",g)).html(b.defaultVal);if(d.length>1){a("div.RightButton",g).click(function(){if(c<(d.length-1)||b.looping){if(c==d.length-1){c=-1}c++;var k=d[c];(a("div.ValueDisplay",g)).html(k);h.val(k)}return false});a("div.LeftButton",g).click(function(){if(c>0||b.looping){if(c==0){c=d.length}c--;var k=d[c];(a("div.ValueDisplay",g)).html(k);h.val(k)}return false})}break}return h}})(jQuery);